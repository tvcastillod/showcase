<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Introducción # En este ejercicio se exploran diferentes herramientas y lógicas disponibles para la creación de escenarios 3D en p5.js. Se buscó darle un enfoque de simulación de un videojuego, aplicando los conceptos de transformaciones espaciales, árboles de transformación, HUD, movimiento de cámara, iluminación, entre otros. De esta manera, se pueden analizar las distintas alternativas disponibles para la creación de estos escenarios y también sus fortalezas y debilidades. Antecedentes # Transformaciones Espaciales # Las transformaciones espaciales son operaciones que se realizan sobre un objeto para cambiar su posición, orientación o escala."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Introducción # En este ejercicio se exploran diferentes herramientas y lógicas disponibles para la creación de escenarios 3D en p5.js. Se buscó darle un enfoque de simulación de un videojuego, aplicando los conceptos de transformaciones espaciales, árboles de transformación, HUD, movimiento de cámara, iluminación, entre otros. De esta manera, se pueden analizar las distintas alternativas disponibles para la creación de estos escenarios y también sus fortalezas y debilidades. Antecedentes # Transformaciones Espaciales # Las transformaciones espaciales son operaciones que se realizan sobre un objeto para cambiar su posición, orientación o escala."><meta property="og:type" content="article"><meta property="og:url" content="https://jorodriguezal.github.io/showcase/docs/secciones/shaders-y-3D/3d-model/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-19T15:56:13-05:00"><title>3d Model | Computación Visual</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Computación Visual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Secciones</span><ul><li><input type=checkbox id=section-b487fddfe213dc98103a22e30f20cced class=toggle>
<label for=section-b487fddfe213dc98103a22e30f20cced class="flex justify-between"><a href=/showcase/docs/secciones/integrantes/>Integrantes</a></label><ul><li><a href=/showcase/docs/secciones/integrantes/Johan-Steeb-Rodr%C3%ADguez-Alarc%C3%B3n/>Johan Steeb Rodríguez Alarcón</a></li><li><a href=/showcase/docs/secciones/integrantes/Tania-Valentina-Castillo-Delgado/>Tania Valentina Castillo Delgado</a></li><li><a href=/showcase/docs/secciones/integrantes/Mar%C3%ADa-Alejandra-Jim%C3%A9nez-Herrera/>María Alejandra Jiménez Herrera</a></li></ul></li><li><input type=checkbox id=section-812d2262a05fbae8105f136b96854c26 class=toggle>
<label for=section-812d2262a05fbae8105f136b96854c26 class="flex justify-between"><a href=/showcase/docs/secciones/ilusiones-visuales/>Ilusiones Visuales</a></label><ul><li><a href=/showcase/docs/secciones/ilusiones-visuales/v%C3%ADdeo-de-presentaci%C3%B3n/>Vídeo De Presentación</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/Cuantificaci%C3%B3n-del-Color/>Cuantificación Del Color</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/fen%C3%B3meno-de-masking/>Fenómeno De Masking</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/coloraci%C3%B3n/>Coloración</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/percepci%C3%B3n-de-profundidad/>Percepción De Profundidad</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/bandas-mach/>Bandas Mach</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/Coherencia-espacial/>Coherencia Espacial</a></li></ul></li><li><input type=checkbox id=section-659412a241b7c379147b1b576e09e56a class=toggle checked>
<label for=section-659412a241b7c379147b1b576e09e56a class="flex justify-between"><a role=button>Shaders Y 3 D</a></label><ul><li><a href=/showcase/docs/secciones/shaders-y-3D/3d-model/ class=active>3d Model</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/Coloring/>Coloring</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/Procesamiento-de-Imagen/>Procesamiento De Imagen</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/texture-tinting/>Texture Tinting</a></li><li><input type=checkbox id=section-6f3b64a1ece7422886f04b1e6f71f135 class=toggle>
<label for=section-6f3b64a1ece7422886f04b1e6f71f135 class="flex justify-between"><a href=/showcase/docs/secciones/shaders-y-3D/coherencia-espacial/>Coherencia Espacial</a></label><ul><li><a href=/showcase/docs/secciones/shaders-y-3D/coherencia-espacial/Shaders/>Shaders</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/coherencia-espacial/Lineal/>Lineal</a></li></ul></li><li><a href=/showcase/docs/secciones/shaders-y-3D/posteffects/>Posteffects</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/procedural_texturing/>Procedural Texturing</a></li></ul></li><li><input type=checkbox id=section-6afa5302a62ba217d5088de37992068a class=toggle>
<label for=section-6afa5302a62ba217d5088de37992068a class="flex justify-between"><a href=/showcase/docs/secciones/p5/>P5</a></label><ul><li><a href=/showcase/docs/secciones/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/secciones/p5/div/>Div</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>3d Model</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes>Antecedentes</a><ul><li><a href=#transformaciones-espaciales>Transformaciones Espaciales</a><ul><li><a href=#traslación>Traslación</a></li><li><a href=#rotación>Rotación</a></li><li><a href=#escala>Escala</a></li></ul></li><li><a href=#árboles-de-transformación>Árboles de Transformación</a></li><li><a href=#cámara>Cámara</a></li><li><a href=#iluminación>Iluminación</a></li><li><a href=#hud>HUD</a></li></ul></li><li><a href=#ejercicio-realizado>Ejercicio Realizado</a><ul><li><a href=#método-utilizado-y-resultados-obtenidos>Método utilizado y resultados obtenidos</a><ul><li><a href=#modelamiento-de-la-arquitectura-del-escenario>Modelamiento de la arquitectura del escenario</a></li><li><a href=#modelamiento-de-los-objetos-decorativos>Modelamiento de los objetos decorativos</a></li><li><a href=#implementación-de-la-cámara>Implementación de la cámara</a></li><li><a href=#implementación-de-la-iluminación>Implementación de la iluminación</a></li><li><a href=#implementación-del-hud>Implementación del HUD</a></li><li><a href=#implementación-de-objeto-misterioso>Implementación de objeto misterioso</a></li></ul></li></ul></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a></li><li><a href=#referencias>Referencias</a></li></ul></nav></aside></header><article class=markdown><h1 id=introducción>Introducción
<a class=anchor href=#introducci%c3%b3n>#</a></h1><p align=justify>En este ejercicio se exploran diferentes herramientas y lógicas disponibles para la creación de escenarios 3D en p5.js. Se buscó darle un enfoque de simulación de un videojuego, aplicando los conceptos de transformaciones espaciales, árboles de transformación, HUD, movimiento de cámara, iluminación, entre otros. De esta manera, se pueden analizar las distintas alternativas disponibles para la creación de estos escenarios y también sus fortalezas y debilidades.</p><h1 id=antecedentes>Antecedentes
<a class=anchor href=#antecedentes>#</a></h1><blockquote><h2 id=transformaciones-espaciales>Transformaciones Espaciales
<a class=anchor href=#transformaciones-espaciales>#</a></h2><p align=justify>Las transformaciones espaciales son operaciones que se realizan sobre un objeto para cambiar su posición, orientación o escala. Estas operaciones se pueden realizar de forma individual o en conjunto. Las transformaciones espaciales se pueden aplicar a objetos 2D y 3D.</p><br><img src=/showcase/img/space_transformations.png><p><em>Tomado de <a href=https://visualcomputing.github.io/docs/space_transformations/>visualcomputing.github.io</a></em></p><br><p align=justify>Algunas de las transformaciones espaciales más comunes son:</p><h3 id=traslación>Traslación
<a class=anchor href=#traslaci%c3%b3n>#</a></h3><p align=justify>La traslación es una transformación que se utiliza para cambiar la posición de un objeto.</p><h3 id=rotación>Rotación
<a class=anchor href=#rotaci%c3%b3n>#</a></h3><p align=justify>La rotación es una transformación que se utiliza para cambiar la orientación de un objeto.</p><h3 id=escala>Escala
<a class=anchor href=#escala>#</a></h3><p align=justify>La escala es una transformación que se utiliza para cambiar el tamaño de un objeto.</p><br><p align=justify>Estas se pueden realizar sobre cualquiera de los ejes de coordenadas. Por ejemplo, se puede realizar una traslación sobre el eje X para mover un objeto horizontalmente, una traslación sobre el eje Y para mover un objeto verticalmente y una traslación sobre el eje Z para mover un objeto en profundidad.</p><br><p><img src=/showcase/img/planet_orbiting.gif alt></p><p><em>Tomado de <a href=https://www.pinterest.com/pin/338403359481227126/>Pinterest</a></em></p><h2 id=árboles-de-transformación>Árboles de Transformación
<a class=anchor href=#%c3%a1rboles-de-transformaci%c3%b3n>#</a></h2><p align=justify>Los árboles de transformación son un concepto utilizado para organizar las transformaciones espaciales con respecto a distintos puntos de referencia. Esto permite que las transformaciones se puedan realizar de forma individual o en conjunto, dependiendo de la forma en que se organicen las transformaciones en el árbol. Esto logra una mayor facilidad al dibujar o animar objetos que se encuentren relacionados entre sí.</p><p align=justify>En el caso de p5.js, se puede utilizar la función <code>push()</code> para crear un nuevo punto de referencia y la función <code>pop()</code> para volver al punto de referencia anterior. De esta manera, se pueden realizar transformaciones sobre un punto de referencia y luego volver al punto de referencia anterior para realizar otras transformaciones.</p><br><p><img src=/showcase/img/grid_translation.svg alt></p><p><em>Tomado de <a href=https://processing.org/tutorials/transform2d>Processing</a></em></p><h2 id=cámara>Cámara
<a class=anchor href=#c%c3%a1mara>#</a></h2><p align=justify>La cámara es un concepto utilizado para simular la visión de un observador. Esto permite que se pueda simular el movimiento de un observador en un escenario 3D. En p5.js, se puede utilizar la función <code>camera()</code> y definir sus movimientos y rotaciones con las funciones <code>move()</code> y <code>pan()</code>.</p><br><p><img src=/showcase/img/camera_perspective.png alt></p><p><em>Tomado de <a href=https://en.wikipedia.org/wiki/Viewing_frustum>Wikipedia</a></em></p><h2 id=iluminación>Iluminación
<a class=anchor href=#iluminaci%c3%b3n>#</a></h2><p align=justify>La iluminación es un concepto utilizado para simular la luz en un escenario 3D. En p5.js, se puede utilizar la función <code>ambientLight()</code> para definir la luz ambiental y la función <code>pointLight()</code> para definir la luz de un punto.</p><br><p><img src=/showcase/img/light_types.jpg alt></p><p><em>Tomado de <a href=https://openframeworks.cc/documentation/gl/ofLight/>OpenFrameworks</a></em></p><h2 id=hud>HUD
<a class=anchor href=#hud>#</a></h2><p align=justify>El HUD (Head-Up Display) es un concepto utilizado para mostrar información en 2D en un escenario 3D al usuario. Donde se puede mostrar información como instrucciones, la vida del personaje, el puntaje, el nivel, entre otros.</p><br><p><img src=/showcase/img/hud_car.jpg alt></p><p><em>Tomado de <a href=https://movilidadelectrica.com/diez-cosas-de-los-head-up-display-hud/>movilidadelectrica.com</a></em></p></blockquote><h1 id=ejercicio-realizado>Ejercicio Realizado
<a class=anchor href=#ejercicio-realizado>#</a></h1><blockquote><blockquote class="book-hint info"><p style=text-align:justify>Realice un modelo 3D libre en p5.js.</blockquote><h2 id=método-utilizado-y-resultados-obtenidos>Método utilizado y resultados obtenidos
<a class=anchor href=#m%c3%a9todo-utilizado-y-resultados-obtenidos>#</a></h2><blockquote class="book-hint warning">Para poder describir de mejor manera el trabajo realizado e ir mostrando la relación con los resultados, estas dos secciones se describirán de forma conjunta.</blockquote><br><p align=justify>Para la realización de este ejercicio se implementó un modelo 3D de un escenario simple de estilo de videojuego. Se creó una arquitectura simple del interior de una cabaña, con distintos elementos decorativos y texturas. También se manejó la iluminación del escenario, la cámara y el HUD. Además, se le brindó al usuario la interactividad básica de un videojuego, permitiéndole moverse por el escenario y rotar la cámara, además de agacharse y saltar; también se implementaron algunos objetos que reaccionan a la interacción del usuario y el HUD también reacciona a la interacción del usuario.</p><br><p>Para su correcto funcionamiento, se recomienda dar click en el costado izquierdo del canvas y esperar unos segundos a que carguen todas las texturas y modelos.</p><br><iframe id=sketch style=width:1220px;height:825px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script>
            <script src=https://freshfork.github.io/p5.EasyCam/p5.easycam.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/3d_model/sketch.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><br><h3 id=modelamiento-de-la-arquitectura-del-escenario>Modelamiento de la arquitectura del escenario
<a class=anchor href=#modelamiento-de-la-arquitectura-del-escenario>#</a></h3><p align=justify>Para modelar las paredes, el techo y el suelo del escenario, se implementó una clase llamada <code>Wall</code> que se encarga de crear un cubo con las dimensiones y la textura que se le indiquen, además de los ángulos de rotación con respecto a los ejes de coordenadas X y Y. Además contiene una función que se encarga de dibujar el cubo en el escenario. Su constructor y llamados se muestras a continuación:
<details><summary>Clase Wall</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Wall</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>constructor</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pos</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>width</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>height</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Ydirection</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Xdirection</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>,
</span></span><span style=display:flex><span>    [<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>200</span>]
</span></span><span style=display:flex><span>  ) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>pos</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>Ydirection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Ydirection</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>Xdirection</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>Xdirection</span>;
</span></span><span style=display:flex><span>    [<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>r</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>g</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>b</span>] <span style=color:#f92672>=</span> [<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>g</span>, <span style=color:#a6e22e>b</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>display</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>translate</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pos</span>.<span style=color:#a6e22e>x</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pos</span>.<span style=color:#a6e22e>y</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>pos</span>.<span style=color:#a6e22e>z</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rotateY</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>Ydirection</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rotateX</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>Xdirection</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>img</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>texture</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fill</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>r</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>g</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>b</span>, <span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>box</span>(<span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>width</span>, <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>height</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>    <span style=color:#75715e>//clear();
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><details><summary>Setup() y Draw()</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createHouseStructure</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>createHouseStructure</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// create walls
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>), <span style=color:#ae81ff>3200</span>, <span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>wallImg</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(<span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1200</span>), <span style=color:#ae81ff>3200</span>, <span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>wallImg</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>1600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>600</span>), <span style=color:#ae81ff>1200</span>, <span style=color:#ae81ff>1300</span>, <span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>wallImg</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>600</span>), <span style=color:#ae81ff>1200</span>, <span style=color:#ae81ff>1300</span>, <span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>wallImg</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// create roof
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>850</span>), <span style=color:#ae81ff>3200</span>, <span style=color:#ae81ff>800</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>roofImg</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>500</span>, <span style=color:#ae81ff>350</span>), <span style=color:#ae81ff>3200</span>, <span style=color:#ae81ff>800</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>), <span style=color:#a6e22e>roofImg</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// create floor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>push</span>(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Wall</span>(<span style=color:#a6e22e>createVector</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>600</span>), <span style=color:#ae81ff>3200</span>, <span style=color:#ae81ff>1200</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>floorImg</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>walls</span>.<span style=color:#a6e22e>length</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>walls</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>display</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><p>Se puede observar cómo se le pasan los ángulos de inclinación en radianes a los objetos que dibujarán el techo.</p><br><h3 id=modelamiento-de-los-objetos-decorativos>Modelamiento de los objetos decorativos
<a class=anchor href=#modelamiento-de-los-objetos-decorativos>#</a></h3><p align=justify>Para los objetos decorativos, como las lámparas, las ventanas, la cama, el escritorio y algunos otros, se tomaron modelos libres de la plataforma https://www.cgtrader.com/ y se les aplicaron distintas texturas para ajustar su apariencia al estilo deseado. Para poder cargar estos modelos, se utilizó el método <code>loadModel()</code> de p5.js. Para poder cargar las texturas, se utilizó el método <code>loadImage()</code> de p5.js. Para poder dibujar los modelos, se utilizó la función <code>model()</code> de p5.js. A continuación se muestra un ejemplo de la implementación de estos métodos y funciones:
<details><summary>Carga de modelos y texturas</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// load images
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>floorImg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/floor.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>roofImg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/roof.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>wallImg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/wall.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>nasalizationFont</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadFont</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;/showcase/sketches/3d_model/nasalization-rg.otf&#34;</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bendImage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/bend.png&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>standImage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/stand.png&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lampModel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadModel</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/lamp.obj&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>glassBaseTexture</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/glass_base.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>basicDooorModel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadModel</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;/showcase/sketches/3d_model/basic_door.obj&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>doorTexture</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/door_texture.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>deskModel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadModel</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/desk.obj&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>blackBedModel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadModel</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/black_bed.obj&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>woolTexture</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/wool.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>windowModel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadModel</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/window.obj&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>monitorModel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadModel</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/monitor.obj&#34;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>starsTexture</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/3d_model/stars.jpg&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawModels</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//translate to light position to put the lamp
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>1510</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//rotate the lamp
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>glassBaseTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>lampModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#75715e>//translate to light position to put the lamp
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1510</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//rotate the lamp
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>glassBaseTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>lampModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//draw the door
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>85</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>doorTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>2.5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>basicDooorModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//draw the desk
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>1320</span>, <span style=color:#ae81ff>180</span>, <span style=color:#ae81ff>420</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>doorTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>deskModel</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//draw the monitor
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>45</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>//rotateX(PI/4);
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;black&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>0.3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>monitorModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//draw the bed
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1200</span>, <span style=color:#ae81ff>140</span>, <span style=color:#ae81ff>800</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>woolTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>blackBedModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//draw the windows
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>doorTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>windowModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>25</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>doorTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>windowModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1175</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>doorTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>windowModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1175</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>doorTexture</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>scale</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>model</span>(<span style=color:#a6e22e>windowModel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><p align=justify>Se puede evidenciar que, al dibujar el escritorio, se utilizó el concepto de <b>árbol de transformaciones</b> para poder posicionar el monitor en la posición deseada con respecto al punto de referencia del escritorio. Algunos otros lugares donde se aplicó este concepto se verán más adelante.</p><br><p align=justify>También, en este apartado, se puede observar que el<b> mayor motivo por el cuál el sketch se demora unos segundos cargando</b> es el gran espacio de memoria que consumen algunos objetos en la escena, por ejemplo, la cama, que debido a su geometría suavizada, requiere más polígonos para ser lograda, y por lo tanto, más memoria para ser almacenada. Por lo que, al estar corriendo este sketch en un navegador, la cantidad de memoria que se le puede asignar es limitada, y por lo tanto, no se pudieron implementar objetos más complejos en esta escena.</p><h3 id=implementación-de-la-cámara>Implementación de la cámara
<a class=anchor href=#implementaci%c3%b3n-de-la-c%c3%a1mara>#</a></h3><p align=justify>Para la implementación de la cámara, se le dió prioridad a la interacción de esta con el usuario. En primer lugar, se intentó implementarla con la librería <b>EasyCam </b>, sin embargo, aunque contiene algunas funcionalidades interesantes para dar distintos efectos al movimiento,esta no provee un método nativo para poder desplazarse líbremente en el eje Z del escenario, sino que cuenta con un mecanismo se zoom, que se limita a mirar más lejos estando posicionada desde el mismo punto de vista, y para el desplazamiento solo se cuenta con las funciones <code>panX()</code> y <code>panY()</code>, que aunque son útiles para desplazarse, no se obtiene el efecto deseado. Por lo tanto, se optó por implementar la cámara de manera manual, utilizando la función <code>camera()</code> de p5.js.</p><br><p>Para poder controlar la cámara, se implementaron controles con los cuáles se mueve la posición y dirección de la cámara de las siguientes formas:</p><h4 id=movimiento-por-el-escenario>Movimiento por el escenario
<a class=anchor href=#movimiento-por-el-escenario>#</a></h4><p align=justify>Para este, se le permitió al usuario ir hacia las direcciónes <b>arriba, abajo, izquierda y derecha</b> con las teclas <code>W</code>, <code>S</code>, <code>A</code> y <code>D</code> respectivamente. Para esto, se utilizó la función <code>camera.move()</code> de p5.js, que permite mover la cámara en la dirección deseada, y se le asignó una velocidad de movimiento de 10 unidades por cada frame. Además, para rotar la vista de la cámara, se utilizó la función <code>camera.pan()</code>, que permite rotar la cámara en el eje X, y se le asignó una velocidad de rotación de 0.1 radianes por cada frame y se asignó esta funcionalidad a los botones de flecha izquierda y derecha del teclado.</p><br><h4 id=movimiento-en-el-eje-y>Movimiento en el eje Y
<a class=anchor href=#movimiento-en-el-eje-y>#</a></h4><p align=justify>Aunque no se implementó una manera de poder mirar hacia arriba y hacia abajo, se utilizaron las teclas correspondientes a la flecha arriba y abajo del teclado para poder mover la cámara en el eje Y, simulando el movimiento de agacharse y volverse a levantar, cambiando entre estos dos estados posibles. Además, para implementar una simulación de un salto, se utilizó la tecla <code>SPACE</code>, que permite mover la cámara en el eje Y, subiendo hasta una altura máxima y luego volviendo al inicio, para esto se debió controlar el estado de salto y de dirección. Para esto hay que tener en cuenta que el eje Y disminuye hacia arriba y aumenta hacia abajo.</p><br><p>Estas funcionalidades se implementaron de la siguiente manera:</p><br><details><summary>Movimiento de la cámara</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>movementControl</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// move person with awsd
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsDown</span>(<span style=color:#ae81ff>65</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsDown</span>(<span style=color:#ae81ff>68</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsDown</span>(<span style=color:#ae81ff>87</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsDown</span>(<span style=color:#ae81ff>83</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// rotate person with arrow keys
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsDown</span>(<span style=color:#a6e22e>LEFT_ARROW</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>pan</span>(<span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyIsDown</span>(<span style=color:#a6e22e>RIGHT_ARROW</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>pan</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// decrease y position if jumping and not at less than -100
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>jumping</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span> <span style=color:#f92672>&gt;</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>jumpDirection</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>jumping</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>initialY</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>jumpDirection</span> <span style=color:#f92672>==</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// change jump direction if at max or min height
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span> <span style=color:#f92672>&lt;=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>jumpDirection</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// change jump to false if at initial height
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>jumping</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>jumpDirection</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>keyReleased</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#75715e>//crouch camera with down arrow
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>DOWN_ARROW</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>bend</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>bend</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// stand with up arrow
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>UP_ARROW</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>bend</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>move</span>(<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>bend</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// jump with spacebar
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>keyCode</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>32</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>bend</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>jumping</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>jumping</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>true</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>false</span>; <span style=color:#75715e>// prevent any default behavior
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>}
</span></span></code></pre></div></div></details><br><h3 id=implementación-de-la-iluminación>Implementación de la iluminación
<a class=anchor href=#implementaci%c3%b3n-de-la-iluminaci%c3%b3n>#</a></h3><p align=justify>Para la implementación de la iluminación, se utilizó la función <code>poinLight()</code> de p5.js, que permite crear una luz puntual en el escenario. Se implementaron varias luces, dos luces blancas en cada pared correspondiendo a la posición de los modelos de lámparas en el techo y una luz azul en dirección a un objeto de la escena que será descrito más adelante.</p><br><p><img src=/showcase/img/panoramic_house.png alt></p><br><p>La luz azul, al ser implementada para ese objeto en particular, no tiene mucha intensidad.</p><br><p>La implementación de la iluminación se realizó de la siguiente manera:</p><br><details><summary>Iluminación</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>(){
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#75715e>//pointLight in side walls position
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>1300</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#ae81ff>255</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1300</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>600</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawOrbitingEspheres</span>(){
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>    ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><h3 id=implementación-del-hud>Implementación del HUD
<a class=anchor href=#implementaci%c3%b3n-del-hud>#</a></h3><p align=justify>Para el apartado del HUD, se plantearon dos puntos de información. El primero corresponde a la esquina superior derecha, donde se muestran dos menús posibles seleccionables por el usuario: las instrucciones y controles de movimiento, y la información sobre la posición de la cámara y el framerate de la escena.</p><br><img src=/showcase/img/menu13d.png height=50%>
<img src=/showcase/img/menu23d.png width=77%><br><p align=justify>El segundo punto de información corresponde a la esquina inferior derecha, donde se muestra un ícono correspondiente a la posición en el eje Y del usuario, es decir, si está agachado o de pie.</p><br><img src=/showcase/img/menu33d.png width=20%>
<img src=/showcase/img/menu43d.png width=20%><br><p>La implementación del HUD se realizó de la siguiente manera:</p><br><details><summary>HUD</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawHud</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// tomado de: https://editor.p5js.org/rjgilmour/sketches/DKDWmmvrm
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pan</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>atan2</span>(<span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeZ</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>centerZ</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeX</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>centerX</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tilt</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>atan2</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>centerY</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dist</span>(<span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>centerX</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>centerZ</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeX</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeZ</span>)
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeX</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeZ</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>pan</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateZ</span>(<span style=color:#a6e22e>tilt</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateZ</span>(<span style=color:#a6e22e>PI</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>170</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span>(<span style=color:#ae81ff>255</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>controlsHud</span>) {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// triangles indicating direction keys awsd
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>triangle</span>(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;A&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>triangle</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>15</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;W&#34;</span>, <span style=color:#ae81ff>12.5</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>triangle</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;S&#34;</span>, <span style=color:#ae81ff>13.5</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>triangle</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;D&#34;</span>, <span style=color:#ae81ff>26</span>, <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Spacebar to jump&#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// text indicating arrow keys
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Use arrow keys to rotate or crouch/stand&#34;</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// text framerate
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>lastUpdate</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>30</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>fps</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>frameRate</span>().<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>lastUpdate</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Framerate: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fps</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// text camera position
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Camera position: &#34;</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;x: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeX</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>2</span>), <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;y: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>2</span>), <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;z: &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeZ</span>.<span style=color:#a6e22e>toFixed</span>(<span style=color:#ae81ff>2</span>), <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>watchOption</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>controlsHud</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;scene statistics&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;controls&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// message to change hud mode
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Press &#39;h&#39; to see &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>watchOption</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>bend</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>bendImage</span>, <span style=color:#ae81ff>325</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>standImage</span>, <span style=color:#ae81ff>325</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><p align=justify>Como se puede observar, se utilizó una traslación personalizada para poder poner el contenido siempre fijo en las mismas posiciones, para esto se deben realizar ciertos cálculos sobre la posición de la cámara. Para esto, se implementó el código obtenido de https://editor.p5js.org/rjgilmour/sketches/DKDWmmvrm, correspondiente a la primera parte de la función <code>drawHud()</code>. Esta se usó ya que no se pudo usar el método por defecto que contiene la librería EasyCam, debido a que no se utilizó en este sketch.</p><br><h3 id=implementación-de-objeto-misterioso>Implementación de objeto misterioso
<a class=anchor href=#implementaci%c3%b3n-de-objeto-misterioso>#</a></h3><p align=justify>Para experimentar y sacar más provecho a los árboles de transformación, se dibujo en la escena una esfera que es orbitada por algunas esferas más pequeñas y, estas a su vez, por otras más pequeñas, evidenciando el poder y la facilidad de uso de los árboles de transformación para poder realizar este tipo de movimientos complejos realizando el mismo movimiento desde puntos de referencia diferentes.</p><br><p align=justify>Además, para dar una mayor interactividad a este objeto, se utilizó la función <code>dist()</code> para calcular la distancia entre la cámara y la esfera, y así poder cambiar la forma de la esfera cuando el usuario se acerca a esta, al reducirle el número de segmentos y así poder darle un aspecto más misterioso.</p><br><img src=/showcase/img/mysteryObject3d1.png>
<img src=/showcase/img/mysteryObject3d2.png><br><p>La implementación del objeto misterioso se realizó de la siguiente manera:</p><br><details><summary>Objeto misterioso</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawOrbitingEspheres</span>(){
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphereSegments</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dist</span>(<span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeX</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeY</span>, <span style=color:#a6e22e>camera</span>.<span style=color:#a6e22e>eyeZ</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1000</span>) <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>700</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>:</span> <span style=color:#ae81ff>32</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>40</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>300</span>, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>//draw the orbiting espheres
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pointLight</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>starsTexture</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateY</span>(<span style=color:#a6e22e>millis</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>16</span>, <span style=color:#a6e22e>sphereSegments</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>//spheres rotating around the other
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>150</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>millis</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>16</span>, <span style=color:#a6e22e>sphereSegments</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>drawOrbitingOrbitingSpheres</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawOrbitingOrbitingSpheres</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>millis</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>16</span>, <span style=color:#a6e22e>sphereSegments</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>push</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>translate</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rotateX</span>(<span style=color:#a6e22e>millis</span>() <span style=color:#f92672>/</span> <span style=color:#ae81ff>1000</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>16</span>, <span style=color:#a6e22e>sphereSegments</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pop</span>();
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><p>Donde <code>sphereSegments</code> es la variable que controla el número de segmentos de la esfera con base en la posición de la cámara.</p></blockquote><h1 id=conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro
<a class=anchor href=#conclusiones-y-trabajo-futuro>#</a></h1><bloquote><p align=justify>Con este ejercicio se cubrieron gran parte de los temas vistos sobre gráficos 3D, logrando un buen nivel de profundidad en cada uno de ellos y, además, se pudo experimentar con algunos otros temas que son relevantes a la hora de realizar escenarios en 3D, como lo son las texturas y los modelos 3D en archivos externos .obj.</p><br><p align=justify>Además, se pudo evidenciar la importancia de los árboles de transformación para poder realizar movimientos complejos de una manera sencilla, y se pudo experimentar con la interacción de la cámara con el escenario, lo cual es muy importante para poder darle una mayor interactividad a los escenarios.</p><br><p align=justify>Si bien P5.js es una herramienta poderosa y versátil, se pudieron evidenciar algunas limitaciones de esta, como la falta de soporte para importar modelos con sus propias texturas, lo cual es una limitación importante a la hora de realizar escenarios complejos, ya que se debe recurrir a implementar la textura de manera manual, lo cual puede ser un proceso tedioso y que puede generar resultados no deseados, además de que esto no permite aplicar más de una textura a un mismo objeto de manera sencilla. También este apartado se vio afectado por el hecho de ser corrido en el navegador, ya que se limita la memoria, por lo que no se pueden cargar modelos muy complejos. Sin embargo, el rendimiento no se vio afectado de manera significativa, ya que se pudo correr el sketch sin problemas con varios modelos y texturas cargadas.</p><br><p align=justify>Finalmente, se logró comprender y comparar algunas herramientas y técnicas para distintos de los apartados implementados en este ejercicio y tomar decisiones con respecto a eso.</p><br><p align=justify>Como trabajo futuro hay todo un mundo de posibilidades, en primer lugar, los modelos en 3D tienen muchísimas más aplicaciones que en los videojuegos, y en segundo lugar, aún enfocándose en los videojuegos, existen muchas más posibilidades que las que se pudieron evidenciar en este ejercicio, desde herramientas más sofisticadas para la creación de los modelos, texturas y escenarios, hasta la implementación de físicas más complejas, como la gravedad, colisiones, etc. Todo esto supone una gran industria que sigue en crecimiento y que no dejará de crecer en un futuro cercano.</p><br><p align=justify>También se pueden combinar estos temas de modelado 3D con los temas vistos sobre shaders, lo cual puede ser una poderosa herramienta y brindar muchos mejores resultados de mayor calidad. En distintos videojuegos actuales se puede evidenciar el uso de shaders para darle un aspecto más realista a los objetos, como lo son los reflejos, las sombras, etc.</p></bloquote><h1 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h1><ol><li><a href=https://visualcomputing.github.io/docs/space_transformations/>https://visualcomputing.github.io/docs/space_transformations/</a></li><li><a href=https://p5js.org/es/reference>https://p5js.org/es/reference</a></li><li><a href=https://editor.p5js.org/rjgilmour/sketches/DKDWmmvrm>https://editor.p5js.org/rjgilmour/sketches/DKDWmmvrm</a></li><li><a href=https://github.com/features/copilot>https://github.com/features/copilot</a></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/8d7b6ffd22b211828cdd382b7340f2aa614574e8 title='Last modified by jorodriguezal | June 19, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 19, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes>Antecedentes</a><ul><li><a href=#transformaciones-espaciales>Transformaciones Espaciales</a><ul><li><a href=#traslación>Traslación</a></li><li><a href=#rotación>Rotación</a></li><li><a href=#escala>Escala</a></li></ul></li><li><a href=#árboles-de-transformación>Árboles de Transformación</a></li><li><a href=#cámara>Cámara</a></li><li><a href=#iluminación>Iluminación</a></li><li><a href=#hud>HUD</a></li></ul></li><li><a href=#ejercicio-realizado>Ejercicio Realizado</a><ul><li><a href=#método-utilizado-y-resultados-obtenidos>Método utilizado y resultados obtenidos</a><ul><li><a href=#modelamiento-de-la-arquitectura-del-escenario>Modelamiento de la arquitectura del escenario</a></li><li><a href=#modelamiento-de-los-objetos-decorativos>Modelamiento de los objetos decorativos</a></li><li><a href=#implementación-de-la-cámara>Implementación de la cámara</a></li><li><a href=#implementación-de-la-iluminación>Implementación de la iluminación</a></li><li><a href=#implementación-del-hud>Implementación del HUD</a></li><li><a href=#implementación-de-objeto-misterioso>Implementación de objeto misterioso</a></li></ul></li></ul></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a></li><li><a href=#referencias>Referencias</a></li></ul></nav></div></aside></main></body></html>