<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Fenómeno de Masking (enmascaramiento) y Kinegramas # Introducción # El masking visual es un fenómeno de percepción visual que se produce cuando la visibilidad de una imagen (objetivo) se ve reducida por la presencia de otra imagen (máscara). A continuación se estudiará y realizará la implementación de un kinegrama como acercamiento al fenómeno visual de 'masking'.
Antecedentes y trabajo previo # La palabra kinegrama proviene de &#34;kine&#34;, que significa &#34;"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Fenómeno de Masking (enmascaramiento) y Kinegramas # Introducción # El masking visual es un fenómeno de percepción visual que se produce cuando la visibilidad de una imagen (objetivo) se ve reducida por la presencia de otra imagen (máscara). A continuación se estudiará y realizará la implementación de un kinegrama como acercamiento al fenómeno visual de 'masking'.
Antecedentes y trabajo previo # La palabra kinegrama proviene de &#34;kine&#34;, que significa &#34;"><meta property="og:type" content="article"><meta property="og:url" content="https://jorodriguezal.github.io/showcase/docs/secciones/ilusiones-visuales/fen%C3%B3meno-de-masking/"><meta property="article:section" content="docs"><title>Fenómeno De Masking | Computación Visual</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Computación Visual</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Secciones</span><ul><li><input type=checkbox id=section-b487fddfe213dc98103a22e30f20cced class=toggle>
<label for=section-b487fddfe213dc98103a22e30f20cced class="flex justify-between"><a href=/showcase/docs/secciones/integrantes/>Integrantes</a></label><ul><li><a href=/showcase/docs/secciones/integrantes/Johan-Steeb-Rodr%C3%ADguez-Alarc%C3%B3n/>Johan Steeb Rodríguez Alarcón</a></li><li><a href=/showcase/docs/secciones/integrantes/Tania-Valentina-Castillo-Delgado/>Tania Valentina Castillo Delgado</a></li><li><a href=/showcase/docs/secciones/integrantes/Mar%C3%ADa-Alejandra-Jim%C3%A9nez-Herrera/>María Alejandra Jiménez Herrera</a></li></ul></li><li><input type=checkbox id=section-812d2262a05fbae8105f136b96854c26 class=toggle checked>
<label for=section-812d2262a05fbae8105f136b96854c26 class="flex justify-between"><a href=/showcase/docs/secciones/ilusiones-visuales/>Ilusiones Visuales</a></label><ul><li><a href=/showcase/docs/secciones/ilusiones-visuales/v%C3%ADdeo-de-presentaci%C3%B3n/>Vídeo De Presentación</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/Cuantificaci%C3%B3n-del-Color/>Cuantificación Del Color</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/fen%C3%B3meno-de-masking/ class=active>Fenómeno De Masking</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/coloraci%C3%B3n/>Coloración</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/percepci%C3%B3n-de-profundidad/>Percepción De Profundidad</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/bandas-mach/>Bandas Mach</a></li><li><a href=/showcase/docs/secciones/ilusiones-visuales/Coherencia-espacial/>Coherencia Espacial</a></li></ul></li><li><input type=checkbox id=section-659412a241b7c379147b1b576e09e56a class=toggle>
<label for=section-659412a241b7c379147b1b576e09e56a class="flex justify-between"><a role=button>Shaders Y 3 D</a></label><ul><li><a href=/showcase/docs/secciones/shaders-y-3D/3d-model/>3d Model</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/Coloring/>Coloring</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/Procesamiento-de-Imagen/>Procesamiento De Imagen</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/texture-tinting/>Texture Tinting</a></li><li><input type=checkbox id=section-6f3b64a1ece7422886f04b1e6f71f135 class=toggle>
<label for=section-6f3b64a1ece7422886f04b1e6f71f135 class="flex justify-between"><a href=/showcase/docs/secciones/shaders-y-3D/coherencia-espacial/>Coherencia Espacial</a></label><ul><li><a href=/showcase/docs/secciones/shaders-y-3D/coherencia-espacial/Shaders/>Shaders</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/coherencia-espacial/Lineal/>Lineal</a></li></ul></li><li><a href=/showcase/docs/secciones/shaders-y-3D/posteffects/>Posteffects</a></li><li><a href=/showcase/docs/secciones/shaders-y-3D/procedural_texturing/>Procedural Texturing</a></li></ul></li><li><input type=checkbox id=section-6afa5302a62ba217d5088de37992068a class=toggle>
<label for=section-6afa5302a62ba217d5088de37992068a class="flex justify-between"><a href=/showcase/docs/secciones/p5/>P5</a></label><ul><li><a href=/showcase/docs/secciones/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/secciones/p5/div/>Div</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Fenómeno De Masking</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#fenómeno-de-masking-enmascaramiento-y-kinegramas>Fenómeno de Masking (enmascaramiento) y Kinegramas</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes-y-trabajo-previo>Antecedentes y trabajo previo</a></li><li><a href=#ejercicio>Ejercicio</a></li><li><a href=#solución>Solución</a><ul><li></li><li><a href=#código>Código</a></li></ul></li><li><a href=#conclusión>Conclusión</a><ul><li><a href=#trabajo-futuro>Trabajo Futuro</a></li></ul></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=fenómeno-de-masking-enmascaramiento-y-kinegramas>Fenómeno de Masking (enmascaramiento) y Kinegramas
<a class=anchor href=#fen%c3%b3meno-de-masking-enmascaramiento-y-kinegramas>#</a></h1><h2 id=introducción>Introducción
<a class=anchor href=#introducci%c3%b3n>#</a></h2><blockquote><p style=text-align:justify>El masking visual es un fenómeno de percepción visual que se produce cuando la visibilidad de una imagen (objetivo) se ve reducida por la presencia de otra imagen (máscara). A continuación se estudiará y realizará la implementación de un kinegrama como acercamiento al fenómeno visual de 'masking'.</p></blockquote><br><h2 id=antecedentes-y-trabajo-previo>Antecedentes y trabajo previo
<a class=anchor href=#antecedentes-y-trabajo-previo>#</a></h2><blockquote><p style=text-align:justify>La palabra kinegrama proviene de "kine", que significa "en movimiento", y "-gram", que significa "dibujo". Consiste en un efecto de animación creado por el movimiento de una superposición transparente a rayas a través de una imagen entrelazada. Cuando la rejilla lineal superpuesta se desplaza por la imagen entrelazada, la imagen inferior parece animarse. Esta técnica se originó en la década de 1890 y la publicación más antigua conocida es un "Motograph Moving Picture Book" de Bliss, Sands & Co, la cual contiene patrones, que dan efecto Moiré cuando la transparencia de la banda se mueve a través de la creación de una ilusión de movimiento como el movimiento ondulante del vapor o el giro de las ruedas de un engranaje, como se puede observar en la figura 1.<br><p align=center><img src=/showcase/img/kinegram_example.gif alt width=300><br>Fig.1 - ejemplo de kinegrama</p><br><p style=text-align:justify>El efecto de Moiré es un patrón de interferencia visual que resulta de una distorsión geométrica causada por la superposición de dos patrones similares, dando como resultado un efecto visual oscilante.</p><br><p align=center><img src=/showcase/img/moire_patron.webp alt width=550><br>Fig.2 - patrón de Moiré resultante de la superposición de dos rejillas con diferentes inclinaciones</p><br><div style=text-align:justify><p>A continuación se listan algunos trabajos previos realizados sobre este tema:</p><br><ul><li><a href=https://michaelbach.de/ot/mot-scanimation/index.html>Kinegram (“Scanimation”)</a> es un ejemplo de la implementación de un kinegrama, el programa muestra una única animación y permite modificar parámetros como el ancho de las líneas, el espaciado de las líneas, además de los colores de tanto de la imagen de la animación como de la rejilla.</li><li><a href=https://kinegram.app/>Kinegram app</a> es una aplicación online que nos permite subir nuestras propias imágenes para generar de forma automática el kinegrama, permitiendo modificar atributos como el color de las líneas y la velocidad de la animación.</li></ul></div></blockquote><br><h2 id=ejercicio>Ejercicio
<a class=anchor href=#ejercicio>#</a></h2><blockquote class="book-hint info">Implementar un kinegrama y algunos de los patrones de Moiré los cuales se acercan al fenómeno visual del masking.</blockquote><h2 id=solución>Solución
<a class=anchor href=#soluci%c3%b3n>#</a></h2><blockquote><p style=text-align:justify>Debido a que el kinegrama implementa el concepto de patrones de Moiré, solo realizaremos la implementación de este, enfocándonos en entender cómo se crean y cómo funcionan estos patrones.</p><br><h4 id=cómo-se-hace-un-kinegrama>¿Cómo se hace un Kinegrama?
<a class=anchor href=#c%c3%b3mo-se-hace-un-kinegrama>#</a></h4><p>Un kinegrama se compone de dos partes:</p><br><h4 id=una-patrón-de-rayas-superpuesta>Una patrón de rayas superpuesta
<a class=anchor href=#una-patr%c3%b3n-de-rayas-superpuesta>#</a></h4><div style=text-align:justify>Primero definimos un patrón de rayas con una orientación, un grosor y un espaciado entre líneas predeterminado, por ejemplo:<br><p align=center><img src=/showcase/img/grid_lines.png alt width=300><br>Fig.3 - patrón de rayas verticales, de grosor 4px y espaciado de 2px</p>Veamos que la rejilla y el movimiento que tiene son claves para la animación final. Esta está hecha de forma que al desplazarse, en este caso horizontalmente, los espacios nos permitan ver una parte del patrón y ocultar otra. Veremos a continuación que la imagen que está por debajo consiste en intercalar los diferentes fotogramas que conforman la animación, por lo que el número de fotogramas y el grosor de las líneas de la rejilla está relacionado. Un análisis más detallado de esto se dará más adelante.</div><br><h4 id=una-imagen-subyacente-con-un-patrón-de-rayas>Una imagen subyacente con un patrón de rayas
<a class=anchor href=#una-imagen-subyacente-con-un-patr%c3%b3n-de-rayas>#</a></h4><p style=text-align:justify>Para generar esta imagen lo primero que necesitamos son imágenes de una secuencia de animación, por ejemplo:</p><br><p align=center><img src=/showcase/img/animal_3_sequence.png alt=“” width=400><br>Fig.4 - secuencias de imágenes que forman una animación</p><br><p style=text-align:justify>Para cada una de las imágenes(fotogramas) de la secuencia debemos realizar el siguiente procedimiento: dividimos la imagen en tiras de tamaño el espacio definido para el patrón de rayas, en este caso de 2px</p><br><p align=center><img src=/showcase/img/anim1_paso1.png alt=“” width=300><br>Fig.5 - imagen 1 de la secuencia divida en tiras de 2px</p><br><p style=text-align:justify>De esta división, únicamente necesitamos una porción de la imagen, en este caso como la secuencia se compone de 3 fotogramas, debemos tomar tiras cada 3 divisiones comenzando desde 1, por ejemplo, si numeramos cada tira desde 1 hasta el número total de tiras, solo tomamos las tiras 1,4,7,10,13,... y así sucesivamente</p><br><p align=center><img src=/showcase/img/anim1_paso2-5.png alt=“” width=85%><br>Fig.6 - imagen 1 dividida</p><br><p style=text-align:justify>Para la segunda imagen tomaríamos las tiras 2,5,8,11,14,... y para el tercer fotograma las tiras 3,6,9,12,15,... lo cual nos da como resultado las imágenes de la figura 5. En general para el fotograma número k se toman las tiras j tales que j(mod n)=k, con n el número total de fotogramas. Finalmente, superponemos todos las imágenes con el patrón de líneas creado, obteniendo como resultado la figura 8.</p><br><p align=center><img src=/showcase/img/animal_strip_sequence.png alt=“” width=90%><br>Fig.7 - fotogramas con el patrón de líneas</p><br><p align=center><img src=/showcase/img/animal_strip_final.png alt=“” width=300><br>Fig.8 - imagen final con el patrón del kinegrama</p><br><div style=text-align:justify>Ya teniendo la imagen final, veamos porqué se hace se esa manera y cómo funciona. Teniendo en cuenta la observación inicial sobre la rejilla, sabemos que esta nos permite ver una parte de la imagen y oculta otra, por lo cual podemos deducir que para generar la ilusión de movimiento debemos mostrar una imagen a la vez. Es decir, la idea es que primero se vea parte del primer fotograma, luego cuando se mueva la rejilla un poco, se muestre el segundo fotograma y así sucesivamente. Con esto se justifica el hecho de tener que dividir cada imagen en tiras del grosor del espacio entre las líneas de la rejilla para posteriormente intercalarlas.<br><p>Ahora, respecto al grosor de las líneas que se escogió inicialmente y su relación con el número de fotogramas, veamos que como la idea es mostrar un fotograma a la vez, si queremos que solo se vea la imagen de fotograma 1, debemos ocultar los fragmentos de los otros dos fotogramas. Como en el ejemplo cada uno se dividió en tiras de 2px de grosor, tiene sentido que el grosor de la línea sea de 4px para poder ocultarlos y que se vea únicamente un fotograma al tiempo, como se muestra en la figura 9.</p><br><p align=center><img src=/showcase/img/fotogramaylineas.png alt=“” width=80%><br>Fig.9 - imagen del kinegrama con la rejilla desplazada horizontalmente</p><br><p>Como observación final, antes de ver la implementación del programa, es importante mencionar que otro factor que influye en la correcta visualización del kinegrama, es la velocidad con la que se desplaza la rejilla. Sin embargo, como este parámetro no se puede modificar en el programa realizado, se deja como algo para mejorar y discutir más adelante.</div></p><blockquote><div style=text-align:justify>El siguiente programa genera un kinegrama dados los fotogramas de una animación y los parámetros de grosor de las líneas del patrón superpuesto y el espaciado entre estas. Se debe cargar y añadir cada fotograma en el orden correspondiente a la animación, para visualizar la animación final, marcar las opciones de correr animación y mostrar patrón de rayas.<br><p>Para ver en movimiento el patrón anterior, guarde la imagen y súbala como un fotograma a la aplicación, ajuste el grosor de la línea en 4 y espacio entre línea a 2.</div></p><br><iframe id=kinegram_with_files style=width:625px;height:425px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script>
            <script src=https://freshfork.github.io/p5.EasyCam/p5.easycam.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/kinegram/kinegram_with_files.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></blockquote><br><blockquote class="book-hint info"><p style=text-align:justify>Observe que en el ejemplo dado, para parámetros un grosor de línea de 10px, aunque no es tan clara, la animación también logra verse correctamente.</p><br></blockquote><br><blockquote><p style=text-align:justify>A continuación se muestran dos ejemplos adicionales de kinegramas generados desde cero, de una rueda girando y unos círculos en movimiento. El proceso en este caso es el mismo, solo que las imágenes en vez de ser cargadas por el usuario fueron generadas automáticamente, dibujando cada imagen y modificándola ligeramente para generar los diferentes fotogramas que conforman la animación completa.</p><br><iframe id=kinegram_autogenerated_ style=width:625px;height:355px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
            <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.min.js></script>
            <script src=https://freshfork.github.io/p5.EasyCam/p5.easycam.js></script>
            
            
            
            
            
            <script src=/showcase/sketches/kinegram/kinegram_autogenerated_.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe></blockquote><br><h3 id=código>Código
<a class=anchor href=#c%c3%b3digo>#</a></h3><details><summary>Código completo del kinegrama generado con imágenes</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>inputElement</span>, <span style=color:#a6e22e>userImage</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvas1</span>, <span style=color:#a6e22e>canvas2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>vel</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dir</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>button</span>, <span style=color:#a6e22e>slider</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strokeW</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>4</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>space</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>400</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>20</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>inputElement</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createFileInput</span>(<span style=color:#a6e22e>handleFile</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>inputElement</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#34;añadir fotograma&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>position</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>saveFrame</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;correr animación&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>340</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;mostrar patrón de líneas&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>360</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>140</span>, <span style=color:#ae81ff>280</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width&#34;</span>, <span style=color:#e6db74>&#34;120px&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>140</span>, <span style=color:#ae81ff>250</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>slider2</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width&#34;</span>, <span style=color:#e6db74>&#34;120px&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>frames</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span><span style=color:#75715e>// almacena la imagen actual en un arreglo con todos los fotogramas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>saveFrame</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>n</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>currentImg</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>n</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentImg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>posX</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posY</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>displayText</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#34;white&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas2</span>.<span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#34;white&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>canvas2</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// ajusta la imagen cargada al tamaño del canvas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>userImage</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>||</span>
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>height</span>
</span></span><span style=display:flex><span>    ) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>imgW</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>width</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>imgH</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>imgW</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>imgH</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>height</span>) <span style=color:#f92672>/</span> <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>userImage</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>imgW</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span>, <span style=color:#a6e22e>imgW</span>, <span style=color:#a6e22e>imgH</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>currentImg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>posX</span>, <span style=color:#a6e22e>posY</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>space</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeW</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>slider2</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// genera la imagen subyacente con las imágenes ya añadidas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>frames</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strip</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>k</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>frames</span>.<span style=color:#a6e22e>length</span>].<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>y</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>space</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>strip</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>k</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>checkbox2</span>.<span style=color:#a6e22e>checked</span>())
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>drawLines</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vel</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>strokeW</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>space</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>checked</span>()) <span style=color:#a6e22e>vel</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.3</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dir</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>vel</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>vel</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) <span style=color:#a6e22e>dir</span> <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// dibuja el patrón de líneas superpuesto
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawLines</span>(<span style=color:#a6e22e>beginX</span>, <span style=color:#a6e22e>beginY</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>beginX</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>beginX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>300</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>beginY</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>beginY</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>220</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#a6e22e>strokeW</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeCap</span>(<span style=color:#a6e22e>SQUARE</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// función para manejar la carga de las imágenes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleFile</span>(<span style=color:#a6e22e>file</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;image&#34;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>userImage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImg</span>(<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>data</span>, <span style=color:#e6db74>&#34;&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>userImage</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> <span style=color:#a6e22e>userImage</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>displayText</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>13</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#a6e22e>slider</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#ae81ff>270</span>, <span style=color:#ae81ff>295</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#a6e22e>slider2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#ae81ff>270</span>, <span style=color:#ae81ff>265</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;espacio entre líneas&#34;</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>295</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;grosor de línea&#34;</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>265</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#a6e22e>str</span>(<span style=color:#a6e22e>n</span>), <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>120</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><div style=text-align:justify><br><p>A continuación se muestra de forma más detallada las partes claves del código anterior.</p><br><p><details open><summary>patrón de líneas superpuestas</summary><div class=markdown-inner><p>Se usó <code>line()</code> para generar las líneas y un <code>for</code> para repetir las líneas y generar la rejilla completa. Los parámetros de <code>strokeW</code> y <code>space</code> corresponden al espacio y grosor de las líneas de la rejilla, estos son modificados por el usuario por medio de un slider definido en el <code>setup()</code>.</p><br><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawLines</span>(<span style=color:#a6e22e>beginX</span>, <span style=color:#a6e22e>beginY</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>beginY</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>beginY</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>200</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>beginX</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>beginX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>250</span>, <span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#a6e22e>strokeW</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeCap</span>(<span style=color:#a6e22e>SQUARE</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><details open><summary>imagen subyacente</summary><div class=markdown-inner><p>Las imágenes que carga el usuario se almacenan en un arreglo <code>frames</code>. Cuando hay por lo menos una imagen se realiza el proceso de división de los fotogramas con ayuda de <code>get</code> para tomar solo una sección de cada imagen. Las imágenes se van intercalando usando <code>frames[k % frames.length]</code> que con ayuda de <code>k</code> se itera el arreglo.</p><br><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>frames</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strip</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>k</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>frames</span>.<span style=color:#a6e22e>length</span>].<span style=color:#a6e22e>get</span>(<span style=color:#a6e22e>y</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>space</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>strip</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details></p></div><br><details><summary>Código completo del ejemplo de kinegramas generados desde cero</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>canvas1</span>, <span style=color:#a6e22e>canvas2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>vel</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dir</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>330</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>150</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>150</span>, <span style=color:#ae81ff>150</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Correr animación&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>280</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#34;Mostrar patrón de líneas&#34;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>checkbox2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>300</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>170</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Rueda&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Circulos&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>mySelectEvent</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>220</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>background</span>(<span style=color:#e6db74>&#34;yellow&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textSize</span>(<span style=color:#ae81ff>13</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>text</span>(<span style=color:#e6db74>&#34;Fotogramas&#34;</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>185</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>drawWheel</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>drawCircles</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>t</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>var</span> [<span style=color:#a6e22e>nFrames</span>, <span style=color:#a6e22e>tStep</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>space</span>, <span style=color:#a6e22e>plus</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    [<span style=color:#a6e22e>nFrames</span>, <span style=color:#a6e22e>tStep</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>space</span>, <span style=color:#a6e22e>plus</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>frames</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>nFrames</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) <span style=color:#a6e22e>drawWheel</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) <span style=color:#a6e22e>drawCircles</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>y</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>get</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>tStep</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>y</span>], <span style=color:#ae81ff>15</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>k</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>strip</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>k</span> <span style=color:#f92672>%</span> <span style=color:#a6e22e>nFrames</span>].<span style=color:#a6e22e>get</span>(<span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>y</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>space</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>strip</span>,
</span></span><span style=display:flex><span>      (<span style=color:#a6e22e>width</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>3</span>) <span style=color:#f92672>/</span> <span style=color:#ae81ff>4</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span>
</span></span><span style=display:flex><span>    );
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>k</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>checkbox2</span>.<span style=color:#a6e22e>checked</span>())
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>drawLines</span>(<span style=color:#ae81ff>320</span>, <span style=color:#ae81ff>90</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vel</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>strokeW</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>space</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>plus</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>checkbox</span>.<span style=color:#a6e22e>checked</span>()) <span style=color:#a6e22e>vel</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>0.8</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>dir</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>vel</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>30</span> <span style=color:#f92672>||</span> <span style=color:#a6e22e>vel</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dir</span> <span style=color:#f92672>*=</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>mySelectEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>item</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>sel</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Rueda&#34;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>item</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Circulos&#34;</span>) <span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// patrón de líneas superpuestas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawLines</span>(<span style=color:#a6e22e>beginX</span>, <span style=color:#a6e22e>beginY</span>, <span style=color:#a6e22e>strokeW</span>, <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>beginY</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>beginY</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>200</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>space</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>line</span>(<span style=color:#a6e22e>beginX</span>, <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>beginX</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>250</span>, <span style=color:#a6e22e>i</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeWeight</span>(<span style=color:#a6e22e>strokeW</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>strokeCap</span>(<span style=color:#a6e22e>SQUARE</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// dibujo de la rueda
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawWheel</span>(<span style=color:#a6e22e>canvas</span>, <span style=color:#a6e22e>t</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posX</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rad</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posY</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;red&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>ellipse</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;blue&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span>, <span style=color:#a6e22e>rad</span>, <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>8</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>9</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>12</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>13</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>20</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>21</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>6</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>7</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>14</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>15</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>11</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>rad</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>18</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>,
</span></span><span style=display:flex><span>    (<span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>) <span style=color:#f92672>*</span> <span style=color:#ae81ff>19</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>
</span></span><span style=display:flex><span>  );
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;white&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>ellipse</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#75715e>// dibujo de los círculos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawCircles</span>(<span style=color:#a6e22e>canvas</span>, <span style=color:#a6e22e>t</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posX</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rad</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posY</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;red&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>strokeWeight</span>(<span style=color:#ae81ff>12</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>noFill</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>stroke</span>(<span style=color:#e6db74>&#34;blue&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>150</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><div style=text-align:justify><p>A continuación se muestra de forma más detallada las partes claves del código anterior.</p><br><p><details open><summary>funciones para dibujar la rueda y los círculos</summary><div class=markdown-inner><p>Las imágenes de cada ejemplo son dibujadas con ayuda de una función, <code>drawWheel</code> para la rueda y <code>drawCircles</code> para los círculos. Estas tiene como parámetros <code>canvas</code> que es el canvas sobre el cual se dibuja la imagen y <code>t</code> que se usa para modificar ligeramente cada dibujo, con el fin de generar los diferentes fotogramas que forman la animación final. Para el caso de los círculos se utiliza <code>canvas.circle(posX / 2, posY / 2, rad - 50 + t)</code> y el parámetro que se debe alterar es la del radio de los círculos. Para el caso de la rueda se utiliza <code>canvas.arc(posX / 2, posY / 2, rad, rad, 0 + t, QUARTER_PI / 2 + t)</code> y los parámetros a modificar con los ángulos inicial y final del arco.</p><br><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawCircles</span>(<span style=color:#a6e22e>canvas</span>, <span style=color:#a6e22e>t</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posX</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rad</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posY</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>50</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>circle</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>150</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>drawWheel</span>(<span style=color:#a6e22e>canvas</span>, <span style=color:#a6e22e>t</span>) {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posX</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>rad</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>width</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>posY</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>height</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;red&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>ellipse</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>fill</span>(<span style=color:#e6db74>&#34;blue&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>canvas</span>.<span style=color:#a6e22e>arc</span>(<span style=color:#a6e22e>posX</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>posY</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>rad</span>, <span style=color:#a6e22e>rad</span>, <span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>, <span style=color:#a6e22e>QUARTER_PI</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><br><details open><summary>generación de fotogramas</summary><div class=markdown-inner><p>Para generar los fotogramas se utiliza un <code>for</code> que modifica los parámetros que generan cada dibujo y se almacenan en un arreglo <code>frames</code> el cual se utiliza posteriormente para generar la imagen subyacente final del kinegrama.</p><br><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>frames</span> <span style=color:#f92672>=</span> [];
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>nFrames</span>; <span style=color:#a6e22e>y</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) <span style=color:#a6e22e>drawWheel</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>currentOption</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) <span style=color:#a6e22e>drawCircles</span>(<span style=color:#a6e22e>canvas1</span>, <span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>y</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>get</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>width</span>, <span style=color:#a6e22e>canvas1</span>.<span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>t</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>tStep</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>frames</span>[<span style=color:#a6e22e>y</span>], <span style=color:#ae81ff>15</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>60</span>, <span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details></p><br><p>Un detalle importante a mencionar, es el rendimiento del programa. Debido a que todo el proceso de dibujar el patrón superpuesto y la imagen subyacente se realizan en la función <code>draw()</code> y requieren de varias funciones <code>for</code>, en ocasiones la visualización de la animación se interrumpe, haciendo que no se vea siempre tan fluida. Esto se puede deber principalmente a elementos como los checkbox, los sliders y el menu dropdown que modifican parámetros de los dibujos o imágenes que se generan en la función principal de dibujar.</p></div></blockquote><br><h2 id=conclusión>Conclusión
<a class=anchor href=#conclusi%c3%b3n>#</a></h2><blockquote><div style=text-align:justify>Los kinegramas son una forma interesante de generar animaciones, además de ser un efecto que nos da un acercamiento al fenómeno visual de masking y los patrones de Moiré. Este se compone de dos partes importantes: un patrón de líneas superpuesto y una imagen subyacente con un patrón similar. Los valores del espacio y el grosor de las líneas de la rejilla son determinantes para garantizar una buena animación, además de la velocidad con la que se desplaza la rejilla. Estos factores puede hacer que la animación se vea nítida y fluida, o que por el contrario falle y no se logre visualizar correctamente el movimiento, por lo que sería interesante trabajar más adelante en una forma de establecer una relación más exacta entre estos parámetros para lograr una animación perfecta.</div><br><h3 id=trabajo-futuro>Trabajo Futuro
<a class=anchor href=#trabajo-futuro>#</a></h3><div style=text-align:justify>Un detalle interesante sobre los kinegramas es la forma del patrón superpuesto, pues este no necesariamente tiene que estar conformado por líneas verticales u horizontales, sino que también se pueden implementar otro tipo de patrones para generar animaciones aún más interesantes como las que se muestran a continuación.<br><p align=center float=left><img src=/showcase/img/kine_horse.gif width=200>
<img src=/showcase/img/kine_circular.gif width=200><br>Fig.10 - Ejemplo de kinegramas con un patrón de líneas diferente</p><br><p>Con esto en mente, algo que se puede mejorar y trabajar más adelante es dar la posibilidad de escoger entre diferentes tipo de rejillas para generar la imagen del kinegrama. Para esto es conveniente volver a estudiar el cómo se realiza un kinegrama y ver si para otro tipo de rejillas el procedimiento es análogo o debe realizarse algún ajuste adicional.</p></div></blockquote><br><h2 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h2><ol><li>Enevoldsen, Keith. &ldquo;Kinegrams&rdquo;. Tomado de <a href=https://thinkzone.wlonk.com/Kinegram/Kinegram.htm>https://thinkzone.wlonk.com/Kinegram/Kinegram.htm</a></li><li>Bach, Michael. &ldquo;Kinegram (“Scanimation”)&rdquo;. Tomado de <a href=https://michaelbach.de/ot/mot-scanimation/index.html>https://michaelbach.de/ot/mot-scanimation/index.html</a></li><li>Sarcone, Gianni A. &ldquo;Kinegrams, Art in Motion&rdquo;. Tomado de Sarcone’s Studio &ndash; A Sarcone & Waeber Web Resource. <a href=http://giannisarcone.com/Kinegrams.html>http://giannisarcone.com/Kinegrams.html</a></li><li>Wikipedia contributors. &ldquo;Barrier-grid animation and stereography&rdquo;. Tomado de <a href=https://en.wikipedia.org/wiki/Barrier-grid_animation_and_stereography>https://en.wikipedia.org/wiki/Barrier-grid_animation_and_stereography</a></li><li>Sacone, G. &ldquo;Kinegrams: A New Way To Animate Still Images&rdquo;. Tomado de <a href=https://www.behance.net/gallery/29805617/Kinegrams-A-New-Way-To-Animate-Still-Images>https://www.behance.net/gallery/29805617/Kinegrams-A-New-Way-To-Animate-Still-Images</a></li><li>Naturaprint. &ldquo;¿Qué es el efecto Moiré o Muaré? y como evitarlo&rdquo;. Tomado de <a href=https://imprentaonline-naturaprint.com/efecto-moire-muare>https://imprentaonline-naturaprint.com/efecto-moire-muare</a></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#fenómeno-de-masking-enmascaramiento-y-kinegramas>Fenómeno de Masking (enmascaramiento) y Kinegramas</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes-y-trabajo-previo>Antecedentes y trabajo previo</a></li><li><a href=#ejercicio>Ejercicio</a></li><li><a href=#solución>Solución</a><ul><li></li><li><a href=#código>Código</a></li></ul></li><li><a href=#conclusión>Conclusión</a><ul><li><a href=#trabajo-futuro>Trabajo Futuro</a></li></ul></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></div></aside></main></body></html>